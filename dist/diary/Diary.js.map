{"version":3,"sources":["diary/Diary.ts"],"names":[],"mappings":"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","file":"Diary.js","sourcesContent":["//const database = require('../dal/Database');\n\nimport { DB } from '../dal/Database';\nlet data = new DB();\nexport class Diary {\n\t\n\tprivate _$btnAdd: JQuery;\n\t\n\tconstructor() {\n\t\tthis._$btnAdd = $('#add');\n\t}\n\t\n\tpublic onLoad() {\n\t\tthis.loadDate();\n\t\tthis.populateTable();\n\t}\n\n\tpublic addNewDiary() {\n\t\t this._$btnAdd.on('click', function(){\n\t\t\tlet firstname = (<HTMLInputElement>document.getElementById('firstname'));\n\t\t\tlet lastname = (<HTMLInputElement>document.getElementById('lastname'));\n\t\t\t//Save Diary in the database\n\t\t\tdata.addPerson(firstname.value, lastname.value);\n\t\t\t//Reset the input fields\n\t\t\tfirstname.value = '';\n\t\t\tlet reload = new Diary();\n\t\t\treload.populateTable();\n\t\t});\n\t\t//Repopulate the table\n\t\t\n\t}\n\n\tpublic loadDate() {\n\t\tlet today = new Date();\n\t\tlet dd = today.getDate();\n\t\tlet mm = today.getMonth() + 1;\n\t\tlet yyyy = today.getFullYear();\n\t\tlet hr = today.getHours();\n\t\tlet mi = today.getMinutes();\n\t\tlet date = (mm + '/' + dd + '/' + yyyy + '-' + hr + ':' + mi);\n\t\t(<HTMLInputElement>document.getElementById('lastname')).value = date;\n\t}\n\n\tpublic validateInput() {\n\t\tthis._$btnAdd.on('click', function() {\n\t\t\tif ((<HTMLInputElement>document.getElementById('firstname')).value == '') {\n\t\t\t\talert ('Please write your diary into the box ^^');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic populateTable() {\n\t\tdata.getPersons(function(persons) {\n\t\t\t// Generate the table body\n\t\t\tlet tableBody = '';\n\t\t\tfor (let i = 0; i < persons.length; i++) {\n\t\t\ttableBody += '<tr>';\n\t\t\ttableBody += '  <td>' + persons[i].lastname + '</td>';\n\t\t\ttableBody += '  <td>' + persons[i].firstname + '</td>';\n\t\t\t//tableBody += '  <td><input type=\"button\" value=\"Delete\" HTMLInputElement.onclick=test()></td>';\n\t\t\t//tableBody += '  <td><input type=\"button\" value=\"Delete\" HTMLInputElement.onclick=\"delPerson(' + persons[i]._id + ')\"></td>';\n\t\t\ttableBody += '</tr>';\n\t\t\t}\n\t\t\t// Fill the table content\n\t\t\t(<HTMLInputElement>document.getElementById('tablebody')).innerHTML = tableBody;\n\t\t });\n\t}\n\tpublic delPerson(id) {\n\t\t//Delete the person from the database\n\t\tdata.deletePerson(id);\n\t\tlet reload = new Diary();\n\t\t//Repopulate the table\n\t\treload.populateTable();\n\t}\n\tpublic test() {\n\t\talert('WTF is going on!');\n\t}\n}\n"]}